/* eslint-disable no-multiple-empty-lines */
const knex = require('./knex');

const createTable = async () => {
  const query = `CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title text,
    genre text,
    pages int,
    is_movie boolean
  );`;
  await knex.raw(query);
};

const dropTable = async () => {
  await knex.raw(`DROP TABLE books;`);
};

const truncate = async () => {
  await knex.raw(`DELETE FROM books;`);
};

const closeConnection = async () => {
  await knex.destroy();
};

// Try not to look at the insertBooks query until you've tried to write an insert query yourself OK?












































































































































































































































// for real, don't look at it










































































































































































































// Scouts honor, you already wrote your own query, ok?






























































const insertMultipleBooks = async () => {
  const query = `
INSERT INTO books (title, genre, pages, is_movie) VALUES
  ('The Hobbit', 'Fantasy', 295, true),
  ('The Silmarillion', 'Fantasy', 432, false),
  ('1984', 'Sci Fi', 328, true),
  ('Brave New World', 'Sci Fi', 288, false),
  ('The Martian', 'Fantasy', 369, true),
  ('The Giving Tree', 'Classic', 64, false),
  ('The Little Prince', 'Classic', 96, false),
  ('Cat in the hat', 'Classic', 64, true);`;

  return knex.raw(query);
};

module.exports = {
  createTable,
  dropTable,
  truncate,
  closeConnection,
  insertMultipleBooks,
};
